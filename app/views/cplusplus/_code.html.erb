
<script type="text/javascript"><!--

$(function() {

  cd.code = {
    reset: function() {
      tokens   = [];
      comments = [];
      redraw();
    },
    add: function(token, comment) {
      tokens.push(token);
      comments.push(comment);
      redraw();
    }
  };

  // - - - - - - - - - - - - - - - -

  var tokens   = undefined;
  var comments = undefined;

  function redraw() {
    var i, code =
      'const vector<string> tokens =' + "\n" +
      '{' + "\n";
    for (i = 0; i < tokens.length; i++) {
      var token = escaped(tokens[i]);
      code += '    ' + token + ',' + spacer(token) + ' // ' + comments[i] + "\n";
    }
    code += '};';
    $('textarea#code').val(code);
  }

  function escaped(s) {
    var i, rep = '"';
    for (i = 0; i < s.length; i++) {
      var ch = s.charAt(i);
      if (ch == '"')
        rep += '\\"';
      else if (ch == '\\')
        rep += '\\\\';
      else
        rep += ch;
    }
    rep += '"';
    return rep;
  }

  function spacer(token) {
    var i, s = '';
    for (i = 0; i < (20-token.length); i++) {
      s += ' ';
    }
    return s;
  }

  cd.code.reset();
  redraw();

});

//--></script>

<textarea id="code" readonly="readonly"></textarea>
